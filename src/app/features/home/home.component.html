@if (!isLoggedIn) {
  <app-home-guest />
} @else {
  <main class="registered-home">
    <!-- Top Greeting Section -->
    <section class="home-greeting-section">
      <div class="greeting-left">
        <div class="avatar-placeholder"></div>
      </div>
      <div class="greeting-center">
        <h2 i18n>Hello, {{ user()?.firstName }} {{ user()?.lastName }}</h2>
        <p i18n>let's diagnose your issue</p>
      </div>
      <div class="greeting-right">
        <button type="button" class="bell-button" aria-label="Notifications">
          <span class="bell-icon"></span>
        </button>
        <button type="button" class="logout-button" (click)="logout()" i18n>Logout</button>
      </div>
    </section>

    <!-- Main Interaction Section -->
    <section class="interaction-section">
      <div class="interaction-box interaction-box--row">
        <!-- Left: Next Appointment Card -->
        <div class="interaction-left-card appointment-card">
          <div class="appointment-header">
            <span class="appointment-date-pill" i18n>Today</span>
            <span class="appointment-title" i18n>Next Appointment</span>
          </div>
          <div class="appointment-details">
            <div class="appointment-detail">
              <span class="icon-svg">
                <!-- calendar SVG -->
                <svg width="20" height="20" fill="none" stroke="#fff" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="5" width="18" height="16" rx="4" fill="#232325"/><path d="M8 3v4M16 3v4M3 9h18" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>
              </span>
              <span class="appointment-detail-text" i18n>12 January 2025</span>
            </div>
            <div class="appointment-detail">
              <span class="icon-svg">
                <!-- clock SVG -->
                <svg width="20" height="20" fill="none" stroke="#fff" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" fill="#232325"/><path d="M12 7v5l3 3" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>
              </span>
              <span class="appointment-detail-text" i18n>01:30 PM</span>
            </div>
          </div>
          <div class="appointment-doctor">
            <span class="doctor-avatar">
              <!-- camera SVG overlay -->
              <svg class="avatar-camera" width="28" height="28" fill="none" viewBox="0 0 24 24"><circle cx="14" cy="14" r="14" fill="#797979"/><rect x="7" y="10" width="10" height="7" rx="2" fill="#C4C4C4"/><circle cx="12" cy="13.5" r="2" fill="#797979"/></svg>
            </span>
            <div class="doctor-info">
              <span class="doctor-name" i18n>Dr. Selly</span>
              <span class="doctor-role" i18n>General Practitioner</span>
            </div>
          </div>
        </div>
        <!-- Right: Epicrisis & Consultations Cards -->
        <div class="interaction-vertical-cards">
          <div class="interaction-card epicrisis-card">
            <span class="interaction-card__icon">
              <!-- medical bag SVG -->
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#D9D9D9"/><rect x="10" y="14" width="12" height="8" rx="2" fill="#B0B0B0"/><rect x="13" y="11" width="6" height="4" rx="1" fill="#B0B0B0"/><rect x="15" y="16" width="2" height="4" rx="1" fill="#fff"/><rect x="13" y="18" width="6" height="2" rx="1" fill="#fff"/></svg>
            </span>
            <div class="interaction-card__text">
              <div class="interaction-card__title" i18n>My epicrisis</div>
              <div class="interaction-card__subtitle" i18n>History</div>
            </div>
          </div>
          <div class="interaction-card consultations-card">
            <span class="interaction-card__icon">
              <!-- clock SVG -->
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#D9D9D9"/><circle cx="16" cy="16" r="10" fill="#B0B0B0"/><path d="M16 11v6l4 2" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>
            </span>
            <div class="interaction-card__text">
              <div class="interaction-card__title" i18n>Consultations</div>
              <div class="interaction-card__subtitle" i18n>History</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Icon Button Row (Actions) -->
    <section class="action-row">
      <button class="action-btn" aria-label="New issue" type="button" i18n>
        <span class="action-btn-icon action-btn-icon--new-issue"></span>
        <span class="action-btn-label">new issue</span>
      </button>
      <button class="action-btn" aria-label="Upload a photo" type="button" i18n>
        <span class="action-btn-icon action-btn-icon--upload-photo"></span>
        <span class="action-btn-label">upload a photo</span>
      </button>
    </section>

    <!-- Tips & News Section -->
    <section class="tips-news-section">
      <div class="tips-header">
        <span class="tips-title" i18n>Orthopedics news for you</span>
        <a class="tips-view-all" href="#" i18n>View All</a>
      </div>
      <div class="tips-article-card">
        <div class="tips-article-image"></div>
        <div class="tips-article-content">
          <span class="tips-chip" i18n>Tips</span>
          <div class="tips-article-title" i18n>I'm a Data Co-ordinator... for the Trauma and Orthopaedic Department.</div>
          <div class="tips-article-author" i18n>Maria Cohut, Ph.D.</div>
        </div>
        <button type="button" class="tips-bookmark" aria-label="Bookmark"></button>
      </div>
    </section>

    <!-- Bottom Menu -->
    <nav class="bottom-menu">
      <a class="menu-item active" href="#">
        <span class="menu-icon menu-icon--home"></span>
        <span class="menu-label" i18n>Home</span>
      </a>
      <a class="menu-item" href="#">
        <span class="menu-icon menu-icon--epicrisis"></span>
        <span class="menu-label" i18n>epicrisis</span>
      </a>
      <a class="menu-item" href="#">
        <span class="menu-icon menu-icon--chat-ai"></span>
        <span class="menu-label" i18n>Chat AI</span>
      </a>
      <a class="menu-item" href="#">
        <span class="menu-icon menu-icon--visits"></span>
        <span class="menu-label" i18n>visits</span>
      </a>
      <a class="menu-item" href="#">
        <span class="menu-icon menu-icon--profile"></span>
        <span class="menu-label" i18n>Profile</span>
      </a>
    </nav>
  </main>
}
